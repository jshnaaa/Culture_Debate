# å¤šæ™ºèƒ½ä½“ç³»ç»Ÿè¿è¡Œè¯´æ˜

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•1: äº¤äº’å¼è¿è¡Œï¼ˆæ¨èï¼‰
```bash
./run_multi_agent.sh
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
- âœ… è‡ªåŠ¨æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒå’Œä¾èµ–
- âœ… æä¾›äº¤äº’å¼èœå•é€‰æ‹©è¿è¡Œæ¨¡å¼
- âœ… æ˜¾ç¤ºè¯¦ç»†çš„è¿è¡ŒçŠ¶æ€å’Œè¿›åº¦
- âœ… è‡ªåŠ¨å¤„ç†é”™è¯¯å’Œå¼‚å¸¸æƒ…å†µ

### æ–¹æ³•2: å¿«é€Ÿå¯åŠ¨
```bash
# æµ‹è¯•æ¨¡å¼ï¼ˆ10é¡¹æ•°æ®ï¼‰
./quick_start.sh test

# æ‰¹é‡æ¨¡å¼ï¼ˆ100é¡¹æ•°æ®ï¼‰
./quick_start.sh batch

# å®Œæ•´æ¨¡å¼ï¼ˆå…¨éƒ¨æ•°æ®ï¼‰
./quick_start.sh full
```

### æ–¹æ³•3: æ‰¹é‡å¤„ç†
```bash
# åˆ†æ‰¹å¤„ç†å¤§æ•°æ®é›†ï¼Œé¿å…å†…å­˜é—®é¢˜
./batch_process.sh
```

### æ–¹æ³•4: ç›´æ¥è¿è¡ŒPython
```bash
# åŸºæœ¬ç”¨æ³•
python run_multi_agent_inference.py \
    --input_path data/normad.jsonl \
    --output_path output/results.jsonl

# æµ‹è¯•è¿è¡Œ
python run_multi_agent_inference.py \
    --input_path data/normad.jsonl \
    --output_path output/test.jsonl \
    --max_items 10
```

## ğŸ“‹ è¿è¡Œæ¨¡å¼è¯´æ˜

| æ¨¡å¼ | è„šæœ¬ | æ•°æ®é‡ | ç”¨é€” | é¢„ä¼°æ—¶é—´ |
|------|------|--------|------|----------|
| ğŸ§ª æµ‹è¯•æ¨¡å¼ | `./quick_start.sh test` | 10é¡¹ | å¿«é€ŸéªŒè¯ç³»ç»Ÿ | 2-5åˆ†é’Ÿ |
| ğŸ“Š æ‰¹é‡æ¨¡å¼ | `./quick_start.sh batch` | 100é¡¹ | ä¸­ç­‰è§„æ¨¡æµ‹è¯• | 20-60åˆ†é’Ÿ |
| ğŸš€ å®Œæ•´æ¨¡å¼ | `./quick_start.sh full` | å…¨éƒ¨ | å®Œæ•´æ•°æ®å¤„ç† | æ•°å°æ—¶ |
| ğŸ”„ åˆ†æ‰¹æ¨¡å¼ | `./batch_process.sh` | åˆ†æ‰¹å¤„ç† | å¤§è§„æ¨¡ç¨³å®šå¤„ç† | æ•°å°æ—¶ |

## âš™ï¸ è¿è¡Œå‰å‡†å¤‡

### 1. ç¯å¢ƒè¦æ±‚
- **Python**: 3.8+
- **GPU**: 16GB+ VRAMï¼ˆæ¨èï¼‰
- **å†…å­˜**: 32GB+ RAM
- **å­˜å‚¨**: 50GB+ å¯ç”¨ç©ºé—´

### 2. å®‰è£…ä¾èµ–
```bash
pip install torch transformers huggingface-hub accelerate pyyaml datasets
```

### 3. è®¾ç½®HuggingFace Token
```bash
# æ–¹æ³•1: ç¯å¢ƒå˜é‡
export HF_TOKEN="your_huggingface_token"

# æ–¹æ³•2: ä½¿ç”¨huggingface-cli
huggingface-cli login
```

### 4. å‡†å¤‡æ•°æ®
ç¡®ä¿ `data/normad.jsonl` æ–‡ä»¶å­˜åœ¨

## ğŸ“Š è¾“å‡ºè¯´æ˜

### è¾“å‡ºæ–‡ä»¶æ ¼å¼
```json
{
  "ID": 0,
  "Country": "egypt",
  "Story": "åœºæ™¯æè¿°...",
  "Gold Label": "yes",
  "Agent_Decisions": {
    "cultural_christian": "yes",
    "cultural_islamic": "yes",
    "cultural_buddhist": "yes",
    "cultural_hindu": "yes",
    "cultural_traditional": "yes"
  },
  "Majority_Decision": "yes",
  "Processing_Time": 15.23
}
```

### è¾“å‡ºæ–‡ä»¶ä½ç½®
- **æµ‹è¯•ç»“æœ**: `output/test_YYYYMMDD_HHMMSS.jsonl`
- **æ‰¹é‡ç»“æœ**: `output/batch_YYYYMMDD_HHMMSS.jsonl`
- **å®Œæ•´ç»“æœ**: `output/full_YYYYMMDD_HHMMSS.jsonl`
- **åˆ†æ‰¹ç»“æœ**: `output/batches/batch_N_YYYYMMDD_HHMMSS.jsonl`

## ğŸ”§ å‚æ•°è¯´æ˜

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | ç¤ºä¾‹ |
|------|------|--------|------|
| `--input_path` | è¾“å…¥æ•°æ®æ–‡ä»¶ | `data/normad.jsonl` | `data/test.jsonl` |
| `--output_path` | è¾“å‡ºç»“æœæ–‡ä»¶ | `output/results.jsonl` | `output/my_results.jsonl` |
| `--max_items` | æœ€å¤§å¤„ç†æ•°é‡ | æ— é™åˆ¶ | `100` |
| `--start_from` | å¼€å§‹å¤„ç†ä½ç½® | `0` | `500` |
| `--log_level` | æ—¥å¿—çº§åˆ« | `INFO` | `DEBUG` |
| `--config_dir` | é…ç½®ç›®å½• | `config` | `my_config` |

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å†…å­˜ä¸è¶³é”™è¯¯**
   ```bash
   # ä½¿ç”¨åˆ†æ‰¹å¤„ç†æ¨¡å¼
   ./batch_process.sh
   ```

2. **æ¨¡å‹ä¸‹è½½å¤±è´¥**
   ```bash
   # æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒHF Token
   export HF_TOKEN="your_token"
   ```

3. **CUDAé”™è¯¯**
   ```bash
   # æ£€æŸ¥GPUçŠ¶æ€
   nvidia-smi
   ```

4. **æƒé™é”™è¯¯**
   ```bash
   # ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
   chmod +x *.sh
   ```

### è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
python run_multi_agent_inference.py \
    --input_path data/normad.jsonl \
    --output_path output/debug.jsonl \
    --log_level DEBUG \
    --max_items 5
```

### æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
```bash
# æ£€æŸ¥Pythonè¯­æ³•
python check_syntax.py

# æ£€æŸ¥GPUä½¿ç”¨æƒ…å†µ
nvidia-smi

# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. GPUå†…å­˜ä¼˜åŒ–
- ä½¿ç”¨åˆ†æ‰¹å¤„ç†ï¼š`./batch_process.sh`
- å‡å°‘å¹¶å‘æ™ºèƒ½ä½“æ•°é‡
- å¯ç”¨æ¨¡å‹é‡åŒ–

### 2. å¤„ç†é€Ÿåº¦ä¼˜åŒ–
- ä½¿ç”¨æ›´å¼ºçš„GPU
- å¢åŠ ç³»ç»Ÿå†…å­˜
- ä½¿ç”¨SSDå­˜å‚¨

### 3. ç¨³å®šæ€§ä¼˜åŒ–
- å®šæœŸé‡å¯å¤„ç†è¿›ç¨‹
- ç›‘æ§GPUæ¸©åº¦
- ä½¿ç”¨UPSç”µæº

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. **æ£€æŸ¥æ—¥å¿—æ–‡ä»¶**: `logs/` ç›®å½•ä¸‹çš„è¯¦ç»†æ—¥å¿—
2. **æŸ¥çœ‹é”™è¯¯ä¿¡æ¯**: ç»ˆç«¯è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯
3. **éªŒè¯ç¯å¢ƒ**: è¿è¡Œ `./run_multi_agent.sh` çš„ç¯å¢ƒæ£€æŸ¥
4. **æä¾›ä¿¡æ¯**: åŒ…æ‹¬é”™è¯¯ä¿¡æ¯ã€ç³»ç»Ÿé…ç½®ã€è¿è¡Œå‚æ•°

## ğŸ¯ æœ€ä½³å®è·µ

1. **é¦–æ¬¡è¿è¡Œ**: ä½¿ç”¨æµ‹è¯•æ¨¡å¼éªŒè¯ç³»ç»Ÿ `./quick_start.sh test`
2. **å¤§è§„æ¨¡å¤„ç†**: ä½¿ç”¨åˆ†æ‰¹æ¨¡å¼ `./batch_process.sh`
3. **å®šæœŸå¤‡ä»½**: åŠæ—¶å¤‡ä»½é‡è¦çš„è¾“å‡ºç»“æœ
4. **ç›‘æ§èµ„æº**: å…³æ³¨GPUå†…å­˜å’Œæ¸©åº¦
5. **é”™è¯¯å¤„ç†**: é‡åˆ°é”™è¯¯åŠæ—¶æ£€æŸ¥æ—¥å¿—