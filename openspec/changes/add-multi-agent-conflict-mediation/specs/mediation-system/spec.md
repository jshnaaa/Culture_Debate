# 调解系统规范

## ADDED Requirements

### Requirement: 调解策略框架
系统SHALL实现基于冲突类型的差异化调解策略，提供多种调解方法和介入机制。

#### Scenario: 策略选择机制
- **WHEN** 检测到特定类型的僵局（观点固化/文化对立/逻辑循环/情绪对抗）
- **THEN** 系统应选择对应的调解策略（视角重构/共性挖掘/框架突破/情绪调节）
- **AND** 应根据冲突严重程度调整策略强度

#### Scenario: 多策略组合应用
- **WHEN** 单一调解策略效果不佳
- **THEN** 系统应尝试组合多种调解策略
- **AND** 应监测组合策略的有效性

### Requirement: 视角重构调解策略
系统SHALL实现视角重构策略，通过引入新的情境条件或假设来打破观点固化。

#### Scenario: 新情境引入
- **WHEN** 智能体观点过于固化
- **THEN** 调解智能体应提出新的情境条件或假设
- **AND** 新情境应促使文化智能体从不同角度重新思考

#### Scenario: 假设条件变更
- **WHEN** 原有假设导致讨论停滞
- **THEN** 调解智能体应引入"假设...会如何影响您的回答？"类型的问题
- **AND** 应引导智能体跳出固有框架

### Requirement: 共性挖掘调解策略
系统SHALL实现共性挖掘策略，帮助文化智能体发现不同文化间的共同价值观和原则。

#### Scenario: 共同价值识别
- **WHEN** 文化智能体间存在明显对立
- **THEN** 调解智能体应识别并强调不同文化的共同价值观
- **AND** 应引导智能体基于共性寻找妥协点

#### Scenario: 相似性强调
- **WHEN** 文化差异导致误解
- **THEN** 调解智能体应解释不同文化在特定情况下的相似性
- **AND** 应促进文化间的理解和包容

### Requirement: 框架突破调解策略
系统SHALL实现框架突破策略，通过改变问题定义或评判标准来解决逻辑循环。

#### Scenario: 问题重新定义
- **WHEN** 讨论陷入逻辑循环
- **THEN** 调解智能体应重新框定核心问题
- **AND** 新的问题定义应打破原有的思维循环

#### Scenario: 评判标准调整
- **WHEN** 现有评判标准导致僵局
- **THEN** 调解智能体应提出新的评价维度或标准
- **AND** 新标准应更有利于达成共识

### Requirement: 情绪调节调解策略
系统SHALL实现情绪调节策略，降低讨论中的情绪化表达和对抗性。

#### Scenario: 情绪降温
- **WHEN** 检测到高情绪对抗状态
- **THEN** 调解智能体应使用缓和性语言引导理性讨论
- **AND** 应避免进一步激化情绪冲突

#### Scenario: 理性引导
- **WHEN** 智能体回答过于情绪化
- **THEN** 调解智能体应引导回归事实和逻辑分析
- **AND** 应强调客观性和理性思考的重要性

### Requirement: 调解智能体实现
系统SHALL实现专门的调解智能体，负责监测僵局并执行调解策略。

#### Scenario: 僵局监测
- **WHEN** 辩论进行中
- **THEN** 调解智能体应持续监测僵局指标
- **AND** 应在满足介入条件时自动激活

#### Scenario: 介入时机判断
- **WHEN** 僵局检测算法触发预警
- **THEN** 调解智能体应评估是否需要立即介入
- **AND** 应考虑介入的最佳时机和方式

#### Scenario: 调解效果评估
- **WHEN** 调解策略执行后
- **THEN** 调解智能体应评估调解效果
- **AND** 应根据效果调整后续调解策略

### Requirement: 决策智能体综合机制
系统SHALL实现决策智能体，负责综合所有文化观点并生成平衡的最终决策。

#### Scenario: 多观点综合
- **WHEN** 所有文化智能体完成讨论
- **THEN** 决策智能体应综合考虑所有观点和文化差异
- **AND** 应生成体现文化平衡的最终决策

#### Scenario: 文化平衡评估
- **WHEN** 生成最终决策
- **THEN** 决策智能体应评估决策对不同文化群体的公平性
- **AND** 应确保没有明显偏向某一特定文化

#### Scenario: 决策解释生成
- **WHEN** 做出最终决策
- **THEN** 决策智能体应生成详细的决策理由和考虑因素
- **AND** 解释应包含各文化观点的权衡过程

### Requirement: 调解成功率监测
系统SHALL监测和评估调解策略的有效性，持续优化调解机制。

#### Scenario: 成功率统计
- **WHEN** 调解策略执行完成
- **THEN** 系统应统计调解成功率（僵局解决/观点收敛/冲突减少）
- **AND** 应按策略类型和冲突类型分类统计

#### Scenario: 策略效果分析
- **WHEN** 积累足够的调解数据
- **THEN** 系统应分析不同策略在不同场景下的效果
- **AND** 应为策略优化提供数据支持